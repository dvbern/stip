<h2>
  {{
    'gesuch-app.form.eltern.' +
      (parent.geschlecht === Anrede.FRAU ? 'mutter' : 'vater') +
      '.title' | translate
  }}
</h2>

<form [formGroup]="form" novalidate class="mt-4" (ngSubmit)="handleSave()">
  <div class="row g-2">
    <dv-shared-ui-form-field class="col-12 col-md-6 col-xl-6">
      <dv-shared-ui-form-field-label>{{
        'gesuch-app.form.shared.lastname.label' | translate
      }}</dv-shared-ui-form-field-label>
      <input
        dvSharedUiFormFieldLabelTarget
        formControlName="name"
        class="form-control"
        type="text"
      />
      <dv-shared-ui-form-field-message
        *dvSharedUiFormFieldMessageError="'required'"
      >
        {{ 'shared.form.error.required' | translate }}
      </dv-shared-ui-form-field-message>
    </dv-shared-ui-form-field>
    <dv-shared-ui-form-field class="col-12 col-md-6 col-xl-6">
      <dv-shared-ui-form-field-label>{{
        'gesuch-app.form.shared.firstname.label' | translate
      }}</dv-shared-ui-form-field-label>
      <input
        dvSharedUiFormFieldLabelTarget
        formControlName="vorname"
        class="form-control"
        type="text"
      />
      <dv-shared-ui-form-field-message
        *dvSharedUiFormFieldMessageError="'required'"
      >
        {{ 'shared.form.error.required' | translate }}
      </dv-shared-ui-form-field-message>
    </dv-shared-ui-form-field>
  </div>

  <div class="row g-4 mt-2" formGroupName="adresse">
    <dv-shared-ui-form-field class="col-9 col-xl-4">
      <dv-shared-ui-form-field-label
        >{{ 'gesuch-app.form.shared.address.street.label' | translate }}
      </dv-shared-ui-form-field-label>
      <input
        class="form-control"
        type="text"
        dvSharedUiFormFieldLabelTarget
        formControlName="strasse"
      />
      <dv-shared-ui-form-field-message
        *dvSharedUiFormFieldMessageError="'required'"
      >
        {{ 'shared.form.error.required' | translate }}
      </dv-shared-ui-form-field-message>
    </dv-shared-ui-form-field>

    <dv-shared-ui-form-field class="col-3 col-xl-2">
      <dv-shared-ui-form-field-label
        >{{ 'gesuch-app.form.shared.address.number.label' | translate }}
      </dv-shared-ui-form-field-label>
      <input
        class="form-control"
        type="text"
        dvSharedUiFormFieldLabelTarget
        formControlName="nummer"
      />
      <dv-shared-ui-form-field-message
        *dvSharedUiFormFieldMessageError="'required'"
      >
        {{ 'shared.form.error.required' | translate }}
      </dv-shared-ui-form-field-message>
    </dv-shared-ui-form-field>
    <dv-shared-ui-form-field class="col-3 col-xl-2">
      <dv-shared-ui-form-field-label
        >{{ 'gesuch-app.form.shared.address.zipcode.label' | translate }}
      </dv-shared-ui-form-field-label>
      <input
        class="form-control"
        type="text"
        dvSharedUiFormFieldLabelTarget
        formControlName="plz"
      />
      <dv-shared-ui-form-field-message
        *dvSharedUiFormFieldMessageError="'required'"
      >
        {{ 'shared.form.error.required' | translate }}
      </dv-shared-ui-form-field-message>
    </dv-shared-ui-form-field>

    <dv-shared-ui-form-field class="col-9 col-xl-4">
      <dv-shared-ui-form-field-label
        >{{ 'gesuch-app.form.shared.address.city.label' | translate }}
      </dv-shared-ui-form-field-label>
      <input
        class="form-control"
        type="text"
        dvSharedUiFormFieldLabelTarget
        formControlName="ort"
      />
      <dv-shared-ui-form-field-message
        *dvSharedUiFormFieldMessageError="'required'"
      >
        {{ 'shared.form.error.required' | translate }}
      </dv-shared-ui-form-field-message>
    </dv-shared-ui-form-field>

    <dv-shared-ui-form-field class="col-12 col-xl-6">
      <dv-shared-ui-form-field-label>{{
        'gesuch-app.form.shared.address.country.label' | translate
      }}</dv-shared-ui-form-field-label>
      <select
        class="form-select"
        dvSharedUiFormFieldLabelTarget
        formControlName="land"
      >
        <option [value]="null" disabled selected>
          {{ 'shared.form.select.empty' | translate }}
        </option>
        <option
          [value]="l.value"
          *ngFor="let l of Land | keyvalue; trackBy: trackByIndex"
        >
          {{ l.value }}
        </option>
      </select>
      <dv-shared-ui-form-field-message
        *dvSharedUiFormFieldMessageError="'required'"
      >
        {{ 'shared.form.error.required' | translate }}
      </dv-shared-ui-form-field-message>
    </dv-shared-ui-form-field>
  </div>

  <div class="row">
    <dv-shared-ui-form-field class="col-12" [isCheckbox]="true">
      <dv-shared-ui-form-field-label
        >{{
          'gesuch-app.form.shared.identical-civil-residence.label' | translate
        }}
      </dv-shared-ui-form-field-label>
      <div class="form-check">
        <input
          class="form-check-input"
          type="checkbox"
          dvSharedUiFormFieldLabelTarget
          formControlName="identischerZivilrechtlicherWohnsitz"
        />
      </div>
    </dv-shared-ui-form-field>
  </div>

  <div class="row mt-2">
    <dv-shared-ui-form-field class="col-12">
      <dv-shared-ui-form-field-label>{{
        'gesuch-app.form.shared.social-insurance-number.label' | translate
      }}</dv-shared-ui-form-field-label>
      <input
        formControlName="sozialversicherungsnummer"
        class="form-control"
        placeholder="756.xxxx.xxxx.xx"
        [maskito]="MASK_SOZIALVERSICHERUNGSNUMMER"
      />
      <dv-shared-ui-form-field-message
        *dvSharedUiFormFieldMessageError="'required'"
      >
        {{ 'shared.form.error.required' | translate }}
      </dv-shared-ui-form-field-message>
      <dv-shared-ui-form-field-message *dvSharedUiFormFieldMessageError="'ahv'">
        {{ 'shared.form.error.ahv' | translate }}
      </dv-shared-ui-form-field-message>
    </dv-shared-ui-form-field>
  </div>

  <h3 class="py-4">{{ 'shared.weiterangaben' | translate }}</h3>

  <div class="row g-2">
    <dv-shared-ui-form-field class="col-12 col-xl-6">
      <dv-shared-ui-form-field-label>{{
        'gesuch-app.form.shared.birthday.label' | translate
      }}</dv-shared-ui-form-field-label>
      <div class="input-group">
        <input
          class="form-control"
          placeholder="dd.mm.yyyy"
          dvSharedUiFormFieldLabelTarget
          formControlName="geburtsdatum"
          ngbDatepicker
          [minDate]="geburtsdatumMinDate"
          [maxDate]="geburtsdatumMaxDate"
          #geburtsdatum="ngbDatepicker"
        />
        <button
          (click)="geburtsdatum.toggle()"
          class="btn btn-outline-primary position-relative"
          type="button"
        >
          <span
            class="material-symbols-rounded position-absolute translate-middle"
          >
            calendar_month
          </span>
        </button>
      </div>
      <dv-shared-ui-form-field-message
        *dvSharedUiFormFieldMessageError="'required'"
      >
        {{ 'shared.form.error.required' | translate }}
      </dv-shared-ui-form-field-message>
    </dv-shared-ui-form-field>
    <dv-shared-ui-form-field class="col-12 col-xl-6">
      <dv-shared-ui-form-field-label>{{
        'gesuch-app.form.shared.phone.label' | translate
      }}</dv-shared-ui-form-field-label>
      <input formControlName="telefonnummer" class="form-control" />
      <dv-shared-ui-form-field-message
        *dvSharedUiFormFieldMessageError="'required'"
      >
        {{ 'shared.form.error.required' | translate }}
      </dv-shared-ui-form-field-message>
    </dv-shared-ui-form-field>
  </div>

  <div class="row mt-2">
    <dv-shared-ui-form-field class="col-12">
      <dv-shared-ui-form-field-label>{{
        'gesuch-app.form.eltern.ausweisbFluechtling.label' | translate
      }}</dv-shared-ui-form-field-label>
      <div class="form-check">
        <input
          formControlName="ausweisbFluechtling"
          [value]="true"
          class="form-check-input"
          type="radio"
          name="ausweisbFluechtling"
          id="ausweisbFluechtlingJa"
        />
        <label class="form-check-label" for="ausweisbFluechtlingJa">
          {{ 'shared.form.radio.yes' | translate }}
        </label>
      </div>
      <div class="form-check">
        <input
          formControlName="ausweisbFluechtling"
          [value]="false"
          class="form-check-input"
          type="radio"
          name="ausweisbFluechtling"
          id="ausweisbFluechtlingNein"
        />
        <label class="form-check-label" for="ausweisbFluechtlingNein">
          {{ 'shared.form.radio.no' | translate }}
        </label>
      </div>
    </dv-shared-ui-form-field>
  </div>
  <div class="row mt-2">
    <dv-shared-ui-form-field class="col-12">
      <dv-shared-ui-form-field-label>{{
        'gesuch-app.form.eltern.ergaenzungsleistungAusbezahlt.label' | translate
      }}</dv-shared-ui-form-field-label>
      <div class="form-check">
        <input
          formControlName="ergaenzungsleistungAusbezahlt"
          [value]="true"
          class="form-check-input"
          type="radio"
          name="ergaenzungsleistungAusbezahlt"
          id="ergaenzungsleistungAusbezahltJa"
        />
        <label class="form-check-label" for="ergaenzungsleistungAusbezahltJa">
          {{ 'shared.form.radio.yes' | translate }}
        </label>
      </div>
      <div class="form-check">
        <input
          formControlName="ergaenzungsleistungAusbezahlt"
          [value]="false"
          class="form-check-input"
          type="radio"
          name="ergaenzungsleistungAusbezahlt"
          id="ergaenzungsleistungAusbezahltNein"
        />
        <label class="form-check-label" for="ergaenzungsleistungAusbezahltNein">
          {{ 'shared.form.radio.no' | translate }}
        </label>
      </div>
    </dv-shared-ui-form-field>
  </div>
  <div class="row g-4 mt-2">
    <dv-shared-ui-form-field class="col-12">
      <dv-shared-ui-form-field-label>{{
        'gesuch-app.form.eltern.sozialhilfebeitraegeAusbezahlt.label'
          | translate
      }}</dv-shared-ui-form-field-label>
      <div class="form-check">
        <input
          formControlName="sozialhilfebeitraegeAusbezahlt"
          [value]="true"
          class="form-check-input"
          type="radio"
          name="sozialhilfebeitraegeAusbezahlt"
          id="sozialhilfebeitraegeAusbezahltJa"
        />
        <label class="form-check-label" for="sozialhilfebeitraegeAusbezahltJa">
          {{ 'shared.form.radio.yes' | translate }}
        </label>
      </div>
      <div class="form-check">
        <input
          formControlName="sozialhilfebeitraegeAusbezahlt"
          [value]="false"
          class="form-check-input"
          type="radio"
          name="sozialhilfebeitraegeAusbezahlt"
          id="sozialhilfebeitraegeAusbezahltNein"
        />
        <label
          class="form-check-label"
          for="sozialhilfebeitraegeAusbezahltNein"
        >
          {{ 'shared.form.radio.no' | translate }}
        </label>
      </div>
    </dv-shared-ui-form-field>
  </div>

  <div class="mt-5 d-flex flex-column gap-3 flex-md-row justify-content-end">
    <button type="button" class="btn btn-secondary" (click)="handleCancel()">
      {{ 'gesuch-app.form.cancel' | translate }}
    </button>
    <button type="submit" class="btn btn-primary">
      {{ 'gesuch-app.form.save' | translate }}
    </button>
  </div>
</form>
