<?xml version="1.1" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-latest.xsd">
    <changeSet author="anna-lea.fuhrer (generated)" id="1749049287693-31">
        <dropForeignKeyConstraint baseTableName="auszahlung" constraintName="FK_auszahlung_adresse_id"/>
    </changeSet>
    <changeSet author="anna-lea.fuhrer (generated)" id="1749049287693-32">
        <dropForeignKeyConstraint baseTableName="gesuch_formular" constraintName="FK_gesuch_formular_auszahlung_id"/>
    </changeSet>
    <changeSet author="anna-lea.fuhrer (generated)" id="1749049287693-33">
        <dropForeignKeyConstraint baseTableName="sozialdienst" constraintName="FK_sozialdienst_adresse_id"/>
    </changeSet>
    <changeSet author="anna-lea.fuhrer (generated)" id="1749049287693-2">
        <createTable tableName="zahlungsverbindung">
            <column name="id" type="UUID">
                <constraints nullable="false" primaryKey="true" primaryKeyName="zahlungsverbindungPK"/>
            </column>
            <column name="timestamp_erstellt" type="TIMESTAMP(6) WITHOUT TIME ZONE">
                <constraints nullable="false"/>
            </column>
            <column name="timestamp_mutiert" type="TIMESTAMP(6) WITHOUT TIME ZONE">
                <constraints nullable="false"/>
            </column>
            <column name="user_erstellt" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="user_mutiert" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="version" type="BIGINT"/>
            <column name="mandant" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="iban" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="nachname" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="vorname" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="adresse_id" type="UUID"/>
        </createTable>
    </changeSet>
    <changeSet author="anna-lea.fuhrer (generated)" id="1749049287693-3">
        <createTable tableName="zahlungsverbindung_aud">
            <column name="id" type="UUID">
                <constraints nullable="false"/>
            </column>
            <column name="rev" type="INTEGER">
                <constraints nullable="false"/>
            </column>
            <column name="revtype" type="SMALLINT"/>
            <column name="timestamp_erstellt" type="TIMESTAMP(6) WITHOUT TIME ZONE"/>
            <column name="timestamp_mutiert" type="TIMESTAMP(6) WITHOUT TIME ZONE"/>
            <column name="user_erstellt" type="VARCHAR(255)"/>
            <column name="user_mutiert" type="VARCHAR(255)"/>
            <column name="mandant" type="VARCHAR(255)"/>
            <column name="iban" type="VARCHAR(255)"/>
            <column name="nachname" type="VARCHAR(255)"/>
            <column name="vorname" type="VARCHAR(255)"/>
            <column name="adresse_id" type="UUID"/>
        </createTable>
    </changeSet>
    <changeSet author="anna-lea.fuhrer (generated)" id="1749049287693-4">
        <addColumn tableName="auszahlung">
            <column name="auszahlung_an_sozialdienst" type="BOOLEAN">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="anna-lea.fuhrer (generated)" id="1749049287693-5">
        <addColumn tableName="auszahlung_aud">
            <column name="auszahlung_an_sozialdienst" type="BOOLEAN"/>
        </addColumn>
    </changeSet>
    <changeSet author="anna-lea.fuhrer (generated)" id="1749049287693-6">
        <addColumn tableName="fall">
            <column name="auszahlung_id" type="UUID"/>
        </addColumn>
    </changeSet>
    <changeSet author="anna-lea.fuhrer (generated)" id="1749049287693-7">
        <addColumn tableName="fall_aud">
            <column name="auszahlung_id" type="UUID"/>
        </addColumn>
    </changeSet>
    <changeSet author="anna-lea.fuhrer (generated)" id="1749049287693-8">
        <addColumn tableName="auszahlung">
            <column name="zahlungsverbindung_id" type="UUID"/>
        </addColumn>
    </changeSet>
    <changeSet author="anna-lea.fuhrer (generated)" id="1749049287693-9">
        <addColumn tableName="auszahlung_aud">
            <column name="zahlungsverbindung_id" type="UUID"/>
        </addColumn>
    </changeSet>
    <changeSet author="anna-lea.fuhrer (generated)" id="1749049287693-10">
        <addColumn tableName="sozialdienst">
            <column name="zahlungsverbindung_id" type="UUID"/>
        </addColumn>
    </changeSet>
    <changeSet author="anna-lea.fuhrer (generated)" id="1749049287693-11">
        <addColumn tableName="sozialdienst_aud">
            <column name="zahlungsverbindung_id" type="UUID"/>
        </addColumn>
    </changeSet>
    <changeSet author="anna-lea.fuhrer (generated)" id="1749049287693-12">
        <addPrimaryKey columnNames="rev, id" constraintName="zahlungsverbindung_audPK" tableName="zahlungsverbindung_aud"/>
    </changeSet>
    <changeSet author="anna-lea.fuhrer (generated)" id="1749049287693-13">
        <addUniqueConstraint columnNames="zahlungsverbindung_id" constraintName="UC_AUSZAHLUNGZAHLUNGSVERBINDUNG_ID_COL" tableName="auszahlung"/>
    </changeSet>
    <changeSet author="anna-lea.fuhrer (generated)" id="1749049287693-14">
        <addUniqueConstraint columnNames="auszahlung_id" constraintName="UC_FALLAUSZAHLUNG_ID_COL" tableName="fall"/>
    </changeSet>
    <changeSet author="anna-lea.fuhrer (generated)" id="1749049287693-15">
        <addUniqueConstraint columnNames="custom_dokument_typ_id" constraintName="UC_GESUCH_DOKUMENTCUSTOM_DOKUMENT_TYP_ID_COL" tableName="gesuch_dokument"/>
    </changeSet>
    <changeSet author="anna-lea.fuhrer (generated)" id="1749049287693-16">
        <addUniqueConstraint columnNames="zahlungsverbindung_id" constraintName="UC_SOZIALDIENSTZAHLUNGSVERBINDUNG_ID_COL" tableName="sozialdienst"/>
    </changeSet>
    <changeSet author="anna-lea.fuhrer (generated)" id="1749049287693-17">
        <addUniqueConstraint columnNames="dokument_id" constraintName="UC_UNTERSCHRIFTENBLATT_DOKUMENTDOKUMENT_ID_COL" tableName="unterschriftenblatt_dokument"/>
    </changeSet>
    <changeSet author="anna-lea.fuhrer (generated)" id="1749049287693-18">
        <addUniqueConstraint columnNames="adresse_id" constraintName="UC_ZAHLUNGSVERBINDUNGADRESSE_ID_COL" tableName="zahlungsverbindung"/>
    </changeSet>
    <changeSet author="anna-lea.fuhrer (generated)" id="1749049287693-25">
        <createIndex indexName="IX_zahlungsverbindung" tableName="zahlungsverbindung">
            <column name="mandant"/>
        </createIndex>
    </changeSet>
    <changeSet author="anna-lea.fuhrer (generated)" id="1749049287693-26">
        <addForeignKeyConstraint baseColumnNames="adresse_id" baseTableName="zahlungsverbindung" constraintName="FK_auszahlung_adresse_id" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="adresse" validate="true"/>
    </changeSet>
    <changeSet author="anna-lea.fuhrer (generated)" id="1749049287693-27">
        <addForeignKeyConstraint baseColumnNames="zahlungsverbindung_id" baseTableName="auszahlung" constraintName="FK_auszahlung_zahlungsverbindung_id" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="zahlungsverbindung" validate="true"/>
    </changeSet>
    <changeSet author="anna-lea.fuhrer (generated)" id="1749049287693-28">
        <addForeignKeyConstraint baseColumnNames="auszahlung_id" baseTableName="fall" constraintName="FK_fall_auszahlung_id" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="auszahlung" validate="true"/>
    </changeSet>
    <changeSet author="anna-lea.fuhrer (generated)" id="1749049287693-29">
        <addForeignKeyConstraint baseColumnNames="rev" baseTableName="zahlungsverbindung_aud" constraintName="FKwa59o01vco06msaue4o0w850" deferrable="false" initiallyDeferred="false" referencedColumnNames="rev" referencedTableName="revinfo" validate="true"/>
    </changeSet>
    <changeSet author="anna-lea.fuhrer (generated)" id="1749049287693-30">
        <addForeignKeyConstraint baseColumnNames="zahlungsverbindung_id" baseTableName="sozialdienst" constraintName="sozialdienst_zahlungsverbindung_id" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="zahlungsverbindung" validate="true"/>
    </changeSet>
    <changeSet author="anna-lea.fuhrer (generated)" id="1749049287693-34">
        <dropUniqueConstraint constraintName="uc_auszahlungadresse_id_col" tableName="auszahlung"/>
    </changeSet>
    <changeSet author="anna-lea.fuhrer (generated)" id="1749049287693-35">
        <dropUniqueConstraint constraintName="uc_gesuch_formularauszahlung_id_col" tableName="gesuch_formular"/>
    </changeSet>
    <changeSet author="anna-lea.fuhrer (generated)" id="1749049287693-36">
        <dropUniqueConstraint constraintName="uc_sozialdienstadresse_id_col" tableName="sozialdienst"/>
    </changeSet>
    <changeSet author="anna-lea.fuhrer (generated)" id="1749049287693-37">
        <dropColumn columnName="adresse_id" tableName="auszahlung"/>
    </changeSet>
    <changeSet author="anna-lea.fuhrer (generated)" id="1749049287693-38">
        <dropColumn columnName="adresse_id" tableName="auszahlung_aud"/>
    </changeSet>
    <changeSet author="anna-lea.fuhrer (generated)" id="1749049287693-39">
        <dropColumn columnName="adresse_id" tableName="sozialdienst"/>
    </changeSet>
    <changeSet author="anna-lea.fuhrer (generated)" id="1749049287693-40">
        <dropColumn columnName="adresse_id" tableName="sozialdienst_aud"/>
    </changeSet>
    <changeSet author="anna-lea.fuhrer (generated)" id="1749049287693-41">
        <dropColumn columnName="auszahlung_id" tableName="gesuch_formular"/>
    </changeSet>
    <changeSet author="anna-lea.fuhrer (generated)" id="1749049287693-42">
        <dropColumn columnName="auszahlung_id" tableName="gesuch_formular_aud"/>
    </changeSet>
    <changeSet author="anna-lea.fuhrer (generated)" id="1749049287693-43">
        <dropColumn columnName="iban" tableName="auszahlung"/>
    </changeSet>
    <changeSet author="anna-lea.fuhrer (generated)" id="1749049287693-44">
        <dropColumn columnName="iban" tableName="auszahlung_aud"/>
    </changeSet>
    <changeSet author="anna-lea.fuhrer (generated)" id="1749049287693-45">
        <dropColumn columnName="iban" tableName="sozialdienst"/>
    </changeSet>
    <changeSet author="anna-lea.fuhrer (generated)" id="1749049287693-46">
        <dropColumn columnName="iban" tableName="sozialdienst_aud"/>
    </changeSet>
    <changeSet author="anna-lea.fuhrer (generated)" id="1749049287693-47">
        <dropColumn columnName="kontoinhaber" tableName="auszahlung"/>
    </changeSet>
    <changeSet author="anna-lea.fuhrer (generated)" id="1749049287693-48">
        <dropColumn columnName="kontoinhaber" tableName="auszahlung_aud"/>
    </changeSet>
    <changeSet author="anna-lea.fuhrer (generated)" id="1749049287693-49">
        <dropColumn columnName="nachname" tableName="auszahlung"/>
    </changeSet>
    <changeSet author="anna-lea.fuhrer (generated)" id="1749049287693-50">
        <dropColumn columnName="nachname" tableName="auszahlung_aud"/>
    </changeSet>
    <changeSet author="anna-lea.fuhrer (generated)" id="1749049287693-51">
        <dropColumn columnName="vorname" tableName="auszahlung"/>
    </changeSet>
    <changeSet author="anna-lea.fuhrer (generated)" id="1749049287693-52">
        <dropColumn columnName="vorname" tableName="auszahlung_aud"/>
    </changeSet>
</databaseChangeLog>
