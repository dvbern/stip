quarkus.application.name=stip-api
quarkus.datasource.db-kind=postgresql
quarkus.datasource.jdbc.url=${STIP_DB_URL}
quarkus.datasource.username=${STIP_DB_USERNAME}
quarkus.datasource.password=${STIP_DB_PASSWORD}

# Hibernate
quarkus.hibernate-orm.log.jdbc-warnings=true
quarkus.hibernate-orm.log.queries-slower-than-ms=20
quarkus.hibernate-orm.physical-naming-strategy=ch.dvbern.stip.api.common.entity.StipPhysicalNamingStrategy

# Flyway
quarkus.flyway.migrate-at-start=true
%dev.quarkus.flyway.locations=db/migration, db/dev/migration
quarkus.flyway.locations=db/migration
quarkus.flyway.out-of-order=true

# S3
quarkus.s3.aws.region=${STIP_S3_REGION}
%test.quarkus.s3.aws.region=eu-central-2

%dev.quarkus.s3.endpoint-override=${STIP_S3_ENDPOINT}
%prod.quarkus.s3.endpoint-override=${STIP_S3_ENDPOINT}

quarkus.s3.aws.credentials.type=static
quarkus.s3.aws.credentials.static-provider.access-key-id=${STIP_S3_ACCESS_KEY}
quarkus.s3.aws.credentials.static-provider.secret-access-key=${STIP_S3_ACCESS_SECRET}
%test.quarkus.s3.aws.credentials.static-provider.access-key-id=test-key
%test.quarkus.s3.aws.credentials.static-provider.secret-access-key=test-secret
quarkus.s3.path-style-access=true

bucket.name=${STIP_S3_BUCKET_NAME}
%test.bucket.name=stip-usercontent-test
%test.quarkus.s3.devservices.buckets=${bucket.name}

kstip.allowed.mimetypes=image/tiff,image/jpeg,image/png,application/pdf
%test.kstip.allowed.mimetypes=text/plain

# OpenAPI specification (http://localhost:8080/openapi.yml)
mp.openapi.extensions.enabled=true
mp.openapi.scan.disable=true
mp.openapi.extensions.path=/openapi.yml
mp.openapi.extensions.servers.relative=true
# Generate Operation names like this: {JavaMethodName}
# Without this, auto-generated OperationIds are a PITA:
# {rootUrl}{ResourceName}[{URL-path}{parameterName}]{RequestMethod}
# ... which is quite unreadable
mp.openapi.extensions.smallrye.operationIdStrategy=CLASS_METHOD

# OpenAPI UI (http://localhost:8080/api/v1/openapi-ui/index.html)
openapi.ui.title=STIP Backend api
openapi.ui.yamlUrl=/openapi.yml
openapi.ui.swaggerUiTheme=feeling-blue
openapi.ui.swaggerHeaderVisibility=hidden
openapi.ui.serverVisibility=hidden

# STIP Configuration
kstip.environment=local
kstip.version=0.1-SNAPSHOT
kstip.file.path=./tmp/stip/data

# Testing
%test.quarkus.hibernate-orm.database.generation=drop-and-create
%test.quarkus.hibernate-orm.sql-load-script=init_test.sql

# Mail
quarkus.mailer.auth-methods=DIGEST-MD5 CRAM-SHA256 CRAM-SHA1 CRAM-MD5 PLAIN LOGIN
quarkus.mailer.from=kstip@dvbern.ch
quarkus.mailer.host=mailext.dvbern.ch
quarkus.mailer.port=25
#quarkus.mailer.start-tls=REQUIRED
#quarkus.mailer.username=
#quarkus.mailer.password=

%dev.quarkus.mailer.mock=false