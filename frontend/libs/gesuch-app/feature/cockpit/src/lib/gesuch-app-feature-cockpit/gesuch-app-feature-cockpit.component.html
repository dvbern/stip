<dv-gesuch-app-pattern-main-layout>
  <div class="bg-image">
    <div class="gray-bg"></div>
  </div>

  <div class="container tw-my-12">
    <h1 class="tw-text-white tw-mb-8">
      {{ 'gesuch-app.dashboard.welcome.titel' | translate: { name: benutzerNameSig() } }}
    </h1>

    @for (dashboard of dashboardStore.dashboardViewSig(); track dashboard.fall.id) {
      @let fall = dashboard.fall;
      <div class="tw-grid tw-grid-cols-[2fr,1fr] tw-gap-16">
        <!-- main column -->
        <div class="tw-flex tw-flex-col tw-gap-8">
          @if (dashboard.activeAusbildungen.length > 0) {
            @for (ausbildung of dashboard.activeAusbildungen; track ausbildung.id) {
              <dv-gesuch-app-ui-dashboard-ausbildung
                [ausbildungSig]="ausbildung"
                (deleteGesuch)="deleteGesuch($event)"
                (aenderungMelden)="aenderungMelden($event)"
              ></dv-gesuch-app-ui-dashboard-ausbildung>
            }
          } @else {
            <button
              type="button"
              (click)="createAusbildung(fall.id)"
              class="btn btn-danger d-flex align-items-center tw-w-max"
            >
              <dv-shared-ui-icon-chip>
                <i class="material-symbols-rounded title-icon">add</i>
              </dv-shared-ui-icon-chip>
              {{ 'gesuch-app.dashboard.ausbildung.create' | translate }}
            </button>
          }
          @for (ausbildung of dashboard.inactiveAusbildungen; track ausbildung.id) {
            <dv-gesuch-app-ui-dashboard-compact-ausbildung
              [ausbildungSig]="ausbildung"
            ></dv-gesuch-app-ui-dashboard-compact-ausbildung>
          }
        </div>

        <!-- side column -->
        <div class="mb-lg-5">
          <!-- NACHRICHTEN -->
          <div class="card mb-5 shadow-lg">
            <div class="card-body">
              <dv-shared-ui-notifications [notifications]="dashboard.notifications"></dv-shared-ui-notifications>
            </div>
          </div>

          <!-- INFOS -->
          <div class="card mb-5 shadow-lg">
            <div class="card-body">
              <h3 class="card-title mb-4">Allgemeine Informationen</h3>
              <p class="card-text">
                Die Informationsbroschüre Stipendien und Darlehen gibt eine kurze Übersicht, auf welcher Basis
                Ausbildungsbeiträge ausgerichtet werden. Ausserdem werden Sie darüber informiert, wie bei der
                Gesuchseinreichung vorzugehen ist, welche Voraussetzungen für ein Stipendium oder Darlehen zu erfüllen
                sind und weitere nützliche Grundlagen.
              </p>
              <a class="btn btn-outline-primary mt-3 w-100"> Stipendien und Darlehen </a>
            </div>
          </div>
        </div>
      </div>
    }
  </div>

  <!-- MOBILE NAV -->
  <div class="mobile-nav-header"></div>
  <div class="mobile-nav-content"></div>

  <!-- DESKTOP HEADER (LEFT) -->
  <div class="header-desktop-left d-flex flex-grow-1 ms-3"></div>

  <!-- DESKTOP HEADER (RIGHT) -->
  <div class="header-desktop-right d-flex gap-4 align-items-center"></div>
  <dv-shared-ui-version-text [version]="cockpitViewSig().version" class="text-white"></dv-shared-ui-version-text>
</dv-gesuch-app-pattern-main-layout>
