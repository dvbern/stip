<div class="container">
  <div class="row">
    @if (viewSig().gesuch; as gesuch) {
      <div class="col-12 col-xl-8 mt-4 d-flex flex-column align-items-start">
        @switch (viewSig().abschlussPhase) {
          @case ('NOT_READY') {
            <div class="alert alert-warning d-flex" role="alert" data-testid="alert-warning">
              <span class="text-warning material-symbols-rounded me-3">warning</span>
              <span [innerHTML]="'shared.form.abschluss.notReady' | translate"></span>
            </div>
          }
          @case ('READY_TO_SEND') {
            <div class="alert alert-info d-flex" role="alert" data-testid="alert-info">
              <span class="text-info material-symbols-rounded me-3">info</span>
              <span [innerHTML]="'shared.form.abschluss.ready' | translate"></span>
            </div>

            <button
              type="submit"
              class="btn btn-primary m-auto mt-4"
              (click)="abschliessen(gesuch.id)"
              data-testid="button-abschluss"
            >
              {{ 'shared.form.abschluss.abschliessen' | translate }}
            </button>
          }
          @case ('SUBMITTED') {
            <div class="alert alert-success d-flex" role="alert" data-testid="alert-success">
              <span class="text-success material-symbols-rounded me-3">check_circle</span>
              <span [innerHTML]="'shared.form.abschluss.submitted' | translate"></span>
            </div>
          }
        }
      </div>
    }
  </div>
</div>
