@for (step of steps; track trackByIndex($index)) {
  @if ({ active: route.isActive(step.route, false) }; as stepRoute) {
    <a
      class="btn btn-nav btn-warning mb-3 w-100 d-flex justify-content-start align-items-center fw-normal"
      [class.btn-light]="!stepRoute.active"
      [class.shadow-none]="!stepRoute.active"
      [class.disabled]="step.disabled"
      [routerLink]="['/', 'gesuch', step.route, viewSig().gesuch?.id]"
      [attr.data-testid]="'step-nav-' + step.route"
    >
      <div class="position-relative d-flex align-middle me-3">
        <i class="material-symbols-rounded">{{ step.iconSymbolName }}</i>
        @if (step.valid !== undefined) {
          <i
            class="validator-indicator material-symbols-rounded position-absolute"
            [class.text-warning]="!step.valid"
            [class.text-success]="step.valid"
          >
            {{ step.valid ? 'check_circle' : 'error' }}
          </i>
        }
      </div>
      <span class="text-start">
        {{ step.translationKey | translate }}
      </span>
    </a>
  }
}
