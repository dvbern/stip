<!-- LOADING -->
@if (view$().loading) {
<div
  data-testid="form-person-loading"
  class="my-2 p-2 py-4 d-flex rounded shadow-sm border"
>
  <div class="dv-progress-bar-indeterminate">
    <div></div>
  </div>
</div>
}

<!-- EDITOR -->
@if (editedElternteil) { @if (view$().gesuchFormular; as gesuchFormular) {
<dv-shared-feature-gesuch-form-eltern-editor
  [elternteil]="editedElternteil"
  [gesuchFormular]="gesuchFormular"
  [laender]="laenderSig()"
  (saveTriggered)="handleEditorSave($event)"
  (closeTriggered)="handleEditorClose()"
  (deleteTriggered)="handleDeleteElternteil($event)"
/>
} }

<!-- OVERVIEW -->
@if (!editedElternteil && !view$().loading) {
<div class="row g-4 mt-4">
  @if (view$().expectVater) {
  <dv-shared-feature-gesuch-form-eltern-card
    class="col-12 col-md-6 col-xl-4"
    [elternteil]="view$().vater"
    [elternTyp]="ElternTyp.VATER"
    [translationkey]="'vater'"
    [readonly]="view$().readonly"
    (addTriggered)="handleAddElternteil($event)"
    (editTriggered)="handleEdit($event)"
  />
  } @if (view$().expectMutter) {
  <dv-shared-feature-gesuch-form-eltern-card
    class="col-12 col-md-6 col-xl-4"
    [elternteil]="view$().mutter"
    [elternTyp]="ElternTyp.MUTTER"
    [translationkey]="'mutter'"
    [readonly]="view$().readonly"
    (addTriggered)="handleAddElternteil($event)"
    (editTriggered)="handleEdit($event)"
  />
  } @if (!view$().expectVater && !view$().expectMutter) {
  <div>
    {{ 'shared.form.eltern.none' | translate }}
  </div>
  }
</div>

<dv-shared-ui-step-form-buttons>
  <button type="button" class="btn btn-primary" (click)="handleContinue()">
    {{ 'shared.form.gonext' | translate }}
  </button>
</dv-shared-ui-step-form-buttons>
}
